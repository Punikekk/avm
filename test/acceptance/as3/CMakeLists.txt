add_custom_target(test_as3)

as3_set_arguments(Array/regress_524122.as USES_SWF_VERSIONS)
as3_set_arguments(AMF/AMFSerializer_float.as FLOAT)
as3_set_arguments(asc/*.as ASC_ARGUMENTS -AS3 -strict -optimize SHELL)
as3_set_arguments(asc/*float*.as ASC_ARGUMENTS -AS3 -strict -optimize SHELL FLOAT)
as3_set_arguments(asc/compare-with-inference.as ASC_ARGUMENTS -AS3 -strict -optimize SHELL FLOAT)
as3_set_arguments(asc/undefined-as-default-value.as ASC_ARGUMENTS -AS3 -strict -optimize SHELL FLOAT)
as3_set_arguments(ByteArray/*.as SHELL)
as3_set_arguments(DescribeType/*.as ASC_ARGUMENTS -AS3 -optimize -md)
as3_set_arguments(GlobalObject/parseFloat_513018.as USES_SWF_VERSIONS)
as3_set_arguments(Expressions/logicalAssignment2.as SHELL)
as3_set_arguments(RuntimeErrors/Error1115NotAConstructor.as USES_SWF_VERSIONS)
as3_set_arguments(sampling/*.as ASC_ARGUMENTS -AS3 SHELL)
as3_set_arguments(ShellClasses/*.as ASC_ARGUMENTS -AS3 SHELL)
as3_set_arguments(String/localeCompare_585791.as USES_SWF_VERSIONS)
as3_set_arguments(Types/Number/e15_7_4_6_1.as USES_SWF_VERSIONS)
as3_set_arguments(Types/Number/visibility.as USES_SWF_VERSIONS)
as3_set_arguments(Types/Float/*.as ASC_ARGUMENTS -AS3 -strict -optimize SHELL FLOAT)
as3_set_arguments(Types/Float/nostrict/*.as ASC_ARGUMENTS -AS3 -optimize SHELL FLOAT)
as3_set_arguments(Types/Float4/*.as ASC_ARGUMENTS -AS3 -strict -optimize SHELL FLOAT)
as3_set_arguments(Types/Float4/nostrict/*.as ASC_ARGUMENTS -AS3 -optimize SHELL FLOAT)
as3_set_arguments(Vector/bug504525/bug504525.as USES_SWF_VERSIONS)
as3_set_arguments(Vector/nonindexproperty.as USES_SWF_VERSIONS)
as3_set_arguments(Vector/vectorIndexRangeExceptions.as USES_SWF_VERSIONS)
as3_set_arguments(Workers/*.as ASC_ARGUMENTS -AS3 SHELL)

as3_ignore(asc/import-with-float4-helper.as)
as3_set_arguments(asc/import-with-float4-main.as SUPPORT asc/import-with-float4-helper.as ASC_ARGUMENTS -AS3 -strict -optimize SHELL FLOAT)

as3_find_tests(test_as3 *)
as3_find_tests(test_as3 Definitions/Classes/*)
as3_find_tests(test_as3 Definitions/*)
as3_find_tests(test_as3 Expressions/*)
as3_find_tests(test_as3 Statements/*)
as3_find_tests(test_as3 Types/*)
as3_find_tests(test_as3 Vector/bug504525)
as3_find_tests(test_as3 Workers/regress)